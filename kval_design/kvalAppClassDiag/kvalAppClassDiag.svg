<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="743px" preserveAspectRatio="none" style="width:1279px;height:743px;" version="1.1" viewBox="0 0 1279 743" width="1279px" zoomAndPan="magnify"><defs><filter height="300%" id="f8qxeglxhiavj" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--cluster KvalApplication--><polygon fill="#DDDDDD" filter="url(#f8qxeglxhiavj)" points="14,16,140,16,147,38.2969,1045,38.2969,1045,731,14,731,14,16" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="14" x2="147" y1="38.2969" y2="38.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="120" x="18" y="30.9951">KvalApplication</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="98" x="484.5" y="53.292">«namespace»</text><!--cluster KvalApplication.BuiltinClasses--><polygon fill="#7ED1E9" filter="url(#f8qxeglxhiavj)" points="910,443.5,1025,443.5,1032,465.7969,1035,465.7969,1035,542.5,910,542.5,910,443.5" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="910" x2="1032" y1="465.7969" y2="465.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="109" x="914" y="458.4951">BuiltinClasses</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="98" x="927.5" y="480.792">«namespace»</text><!--class KvalApplication.Manager--><rect fill="#FEFECE" filter="url(#f8qxeglxhiavj)" height="176.0469" id="KvalApplication.Manager" style="stroke: #A80036; stroke-width: 1.5;" width="246" x="791" y="59"/><ellipse cx="882.25" cy="75" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M885.2188,80.6406 Q884.6406,80.9375 884,81.0781 Q883.3594,81.2344 882.6563,81.2344 Q880.1563,81.2344 878.8281,79.5938 Q877.5156,77.9375 877.5156,74.8125 Q877.5156,71.6875 878.8281,70.0313 Q880.1563,68.375 882.6563,68.375 Q883.3594,68.375 884,68.5313 Q884.6563,68.6875 885.2188,68.9844 L885.2188,71.7031 Q884.5938,71.125 884,70.8594 Q883.4063,70.5781 882.7813,70.5781 Q881.4375,70.5781 880.75,71.6563 Q880.0625,72.7188 880.0625,74.8125 Q880.0625,76.9063 880.75,77.9844 Q881.4375,79.0469 882.7813,79.0469 Q883.4063,79.0469 884,78.7813 Q884.5938,78.5 885.2188,77.9219 L885.2188,80.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="55" x="902.75" y="79.1543">Manager</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="792" x2="1036" y1="91" y2="91"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="164" x="797" y="105.2104">m_launcher: LauncherEngine</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="234" x="797" y="118.0151">m_deploymentEngine: DeploymentEngine</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="792" x2="1036" y1="124.6094" y2="124.6094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="54" x="797" y="138.8198">getApps()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="78" x="797" y="151.6245">refreshApps()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="63" x="797" y="164.4292">installApp()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="77" x="797" y="177.2339">uninstallApp()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="68" x="797" y="190.0386">updateApp()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="83" x="797" y="202.8433">addAppToFav()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="123" x="797" y="215.6479">launchApp(isDaemon)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="111" x="797" y="228.4526">stopApp(isDaemon)</text><!--class KvalApplication.LauncherEngine--><rect fill="#FEFECE" filter="url(#f8qxeglxhiavj)" height="124.8281" id="KvalApplication.LauncherEngine" style="stroke: #A80036; stroke-width: 1.5;" width="204" x="713" y="295"/><ellipse cx="760.25" cy="311" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M763.2188,316.6406 Q762.6406,316.9375 762,317.0781 Q761.3594,317.2344 760.6563,317.2344 Q758.1563,317.2344 756.8281,315.5938 Q755.5156,313.9375 755.5156,310.8125 Q755.5156,307.6875 756.8281,306.0313 Q758.1563,304.375 760.6563,304.375 Q761.3594,304.375 762,304.5313 Q762.6563,304.6875 763.2188,304.9844 L763.2188,307.7031 Q762.5938,307.125 762,306.8594 Q761.4063,306.5781 760.7813,306.5781 Q759.4375,306.5781 758.75,307.6563 Q758.0625,308.7188 758.0625,310.8125 Q758.0625,312.9063 758.75,313.9844 Q759.4375,315.0469 760.7813,315.0469 Q761.4063,315.0469 762,314.7813 Q762.5938,314.5 763.2188,313.9219 L763.2188,316.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="101" x="780.75" y="315.1543">LauncherEngine</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="714" x2="916" y1="327" y2="327"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="192" x="719" y="341.2104">m_workers: map&lt;worker, appid&gt;</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="86" x="719" y="354.0151">m_threads: list</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="714" x2="916" y1="360.6094" y2="360.6094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="46" x="719" y="374.8198">Create()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="180" x="719" y="387.6245">syncStart(path, module, attr): T</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="126" x="719" y="400.4292">asyncStart(isDaemon)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="91" x="719" y="413.2339">Stop(isDaemon)</text><!--class KvalApplication.DeploymentEngine--><rect fill="#FEFECE" filter="url(#f8qxeglxhiavj)" height="124.8281" id="KvalApplication.DeploymentEngine" style="stroke: #A80036; stroke-width: 1.5;" width="254" x="502" y="84.5"/><ellipse cx="566.25" cy="100.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M569.2188,106.1406 Q568.6406,106.4375 568,106.5781 Q567.3594,106.7344 566.6563,106.7344 Q564.1563,106.7344 562.8281,105.0938 Q561.5156,103.4375 561.5156,100.3125 Q561.5156,97.1875 562.8281,95.5313 Q564.1563,93.875 566.6563,93.875 Q567.3594,93.875 568,94.0313 Q568.6563,94.1875 569.2188,94.4844 L569.2188,97.2031 Q568.5938,96.625 568,96.3594 Q567.4063,96.0781 566.7813,96.0781 Q565.4375,96.0781 564.75,97.1563 Q564.0625,98.2188 564.0625,100.3125 Q564.0625,102.4063 564.75,103.4844 Q565.4375,104.5469 566.7813,104.5469 Q567.4063,104.5469 568,104.2813 Q568.5938,104 569.2188,103.4219 L569.2188,106.1406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="117" x="586.75" y="104.6543">DeploymentEngine</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="503" x2="755" y1="116.5" y2="116.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="212" x="508" y="130.7104">m_availableApps: list&lt;PyApplication&gt;</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="503" x2="755" y1="137.3047" y2="137.3047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="242" x="508" y="151.5151">extractAvailableApps(): list&lt;PyApplication&gt;</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="73" x="508" y="164.3198">install(appid)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="87" x="508" y="177.1245">uninstall(appid)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="78" x="508" y="189.9292">update(appid)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="82" x="508" y="202.7339">favorite(appid)</text><!--class KvalApplication.CallbackRegister--><rect fill="#FEFECE" filter="url(#f8qxeglxhiavj)" height="60.8047" id="KvalApplication.CallbackRegister" style="stroke: #A80036; stroke-width: 1.5;" width="136" x="901" y="662"/><ellipse cx="916" cy="678" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M918.9688,683.6406 Q918.3906,683.9375 917.75,684.0781 Q917.1094,684.2344 916.4063,684.2344 Q913.9063,684.2344 912.5781,682.5938 Q911.2656,680.9375 911.2656,677.8125 Q911.2656,674.6875 912.5781,673.0313 Q913.9063,671.375 916.4063,671.375 Q917.1094,671.375 917.75,671.5313 Q918.4063,671.6875 918.9688,671.9844 L918.9688,674.7031 Q918.3438,674.125 917.75,673.8594 Q917.1563,673.5781 916.5313,673.5781 Q915.1875,673.5781 914.5,674.6563 Q913.8125,675.7188 913.8125,677.8125 Q913.8125,679.9063 914.5,680.9844 Q915.1875,682.0469 916.5313,682.0469 Q917.1563,682.0469 917.75,681.7813 Q918.3438,681.5 918.9688,680.9219 L918.9688,683.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="104" x="930" y="682.1543">CallbackRegister</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="902" x2="1036" y1="694" y2="694"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="902" x2="1036" y1="702" y2="702"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="53" x="907" y="716.2104">register()</text><!--class KvalApplication.ActivityWorker--><rect fill="#FEFECE" filter="url(#f8qxeglxhiavj)" height="60.8047" id="KvalApplication.ActivityWorker" style="stroke: #A80036; stroke-width: 1.5;" width="160" x="735" y="480"/><ellipse cx="768.45" cy="496" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M771.4188,501.6406 Q770.8406,501.9375 770.2,502.0781 Q769.5594,502.2344 768.8563,502.2344 Q766.3563,502.2344 765.0281,500.5938 Q763.7156,498.9375 763.7156,495.8125 Q763.7156,492.6875 765.0281,491.0313 Q766.3563,489.375 768.8563,489.375 Q769.5594,489.375 770.2,489.5313 Q770.8563,489.6875 771.4188,489.9844 L771.4188,492.7031 Q770.7938,492.125 770.2,491.8594 Q769.6063,491.5781 768.9813,491.5781 Q767.6375,491.5781 766.95,492.6563 Q766.2625,493.7188 766.2625,495.8125 Q766.2625,497.9063 766.95,498.9844 Q767.6375,500.0469 768.9813,500.0469 Q769.6063,500.0469 770.2,499.7813 Q770.7938,499.5 771.4188,498.9219 L771.4188,501.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="87" x="786.55" y="500.1543">ActivityWorker</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="736" x2="894" y1="512" y2="512"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="736" x2="894" y1="520" y2="520"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="148" x="741" y="534.2104">Start(path, dependencies)</text><!--class KvalApplication.PyApplication--><rect fill="#FEFECE" filter="url(#f8qxeglxhiavj)" height="124.8281" id="KvalApplication.PyApplication" style="stroke: #A80036; stroke-width: 1.5;" width="238" x="229" y="84.5"/><ellipse cx="302.25" cy="100.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M305.2188,106.1406 Q304.6406,106.4375 304,106.5781 Q303.3594,106.7344 302.6563,106.7344 Q300.1563,106.7344 298.8281,105.0938 Q297.5156,103.4375 297.5156,100.3125 Q297.5156,97.1875 298.8281,95.5313 Q300.1563,93.875 302.6563,93.875 Q303.3594,93.875 304,94.0313 Q304.6563,94.1875 305.2188,94.4844 L305.2188,97.2031 Q304.5938,96.625 304,96.3594 Q303.4063,96.0781 302.7813,96.0781 Q301.4375,96.0781 300.75,97.1563 Q300.0625,98.2188 300.0625,100.3125 Q300.0625,102.4063 300.75,103.4844 Q301.4375,104.5469 302.7813,104.5469 Q303.4063,104.5469 304,104.2813 Q304.5938,104 305.2188,103.4219 L305.2188,106.1406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="83" x="322.75" y="104.6543">PyApplication</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="230" x2="466" y1="116.5" y2="116.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="68" x="235" y="130.7104">m_id: string</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="100" x="235" y="143.5151">m_version: string</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="143" x="235" y="156.3198">m_activities: ActivityEntry</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="81" x="235" y="169.1245">m_meta: Meta</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="226" x="235" y="181.9292">m_dependencies: vector&lt;Dependency&gt;</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="230" x2="466" y1="188.5234" y2="188.5234"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="120" x="235" y="202.7339">addDep(Dependency)</text><!--class KvalApplication.ActivityEntry--><rect fill="#E0F99F" filter="url(#f8qxeglxhiavj)" height="105.1563" id="KvalApplication.ActivityEntry" style="stroke: #A80036; stroke-width: 1.5;" width="107" x="388.5" y="305"/><rect fill="#E0F99F" height="37.9375" style="stroke: #A80036; stroke-width: 1.5;" width="107" x="388.5" y="305"/><ellipse cx="403.5" cy="323.9688" fill="#FF7700" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M402.9844,324.5313 Q401.125,323.8281 400.4688,323.0625 Q399.8281,322.2813 399.8281,320.9688 Q399.8281,319.2813 400.9063,318.3125 Q401.9844,317.3438 403.8594,317.3438 Q404.7188,317.3438 405.5625,317.5469 Q406.4219,317.7344 407.2656,318.125 L407.2656,320.5156 Q406.4844,319.9531 405.6563,319.6719 Q404.8438,319.375 404.0469,319.375 Q403.1719,319.375 402.6875,319.7344 Q402.2188,320.0938 402.2188,320.75 Q402.2188,321.2656 402.5625,321.6094 Q402.9063,321.9375 404,322.3438 L405.0625,322.75 Q406.5469,323.2969 407.25,324.2031 Q407.9688,325.1094 407.9688,326.4844 Q407.9688,328.3594 406.8594,329.2813 Q405.75,330.2031 403.5,330.2031 Q402.5781,330.2031 401.6563,329.9844 Q400.7344,329.7656 399.875,329.3438 L399.875,326.8125 Q400.8438,327.5 401.7656,327.8438 Q402.6875,328.1875 403.5781,328.1875 Q404.4844,328.1875 404.9844,327.7813 Q405.4844,327.3594 405.4844,326.625 Q405.4844,326.0625 405.1406,325.6563 Q404.8125,325.2344 404.1875,324.9844 L402.9844,324.5313 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="57" x="426.5" y="321.1387">«nested»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="75" x="417.5" y="335.1074">ActivityEntry</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="389.5" x2="494.5" y1="342.9375" y2="342.9375"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="69" x="394.5" y="357.1479">main: string</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="87" x="394.5" y="369.9526">daemon: string</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="80" x="394.5" y="382.7573">update: string</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="88" x="394.5" y="395.562">package: string</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="389.5" x2="494.5" y1="402.1563" y2="402.1563"/><!--class KvalApplication.Dependency--><rect fill="#E0F99F" filter="url(#f8qxeglxhiavj)" height="92.3516" id="KvalApplication.Dependency" style="stroke: #A80036; stroke-width: 1.5;" width="110" x="243" y="311.5"/><rect fill="#E0F99F" height="37.9375" style="stroke: #A80036; stroke-width: 1.5;" width="110" x="243" y="311.5"/><ellipse cx="258" cy="330.4688" fill="#FF7700" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M257.4844,331.0313 Q255.625,330.3281 254.9688,329.5625 Q254.3281,328.7813 254.3281,327.4688 Q254.3281,325.7813 255.4063,324.8125 Q256.4844,323.8438 258.3594,323.8438 Q259.2188,323.8438 260.0625,324.0469 Q260.9219,324.2344 261.7656,324.625 L261.7656,327.0156 Q260.9844,326.4531 260.1563,326.1719 Q259.3438,325.875 258.5469,325.875 Q257.6719,325.875 257.1875,326.2344 Q256.7188,326.5938 256.7188,327.25 Q256.7188,327.7656 257.0625,328.1094 Q257.4063,328.4375 258.5,328.8438 L259.5625,329.25 Q261.0469,329.7969 261.75,330.7031 Q262.4688,331.6094 262.4688,332.9844 Q262.4688,334.8594 261.3594,335.7813 Q260.25,336.7031 258,336.7031 Q257.0781,336.7031 256.1563,336.4844 Q255.2344,336.2656 254.375,335.8438 L254.375,333.3125 Q255.3438,334 256.2656,334.3438 Q257.1875,334.6875 258.0781,334.6875 Q258.9844,334.6875 259.4844,334.2813 Q259.9844,333.8594 259.9844,333.125 Q259.9844,332.5625 259.6406,332.1563 Q259.3125,331.7344 258.6875,331.4844 L257.4844,331.0313 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="57" x="282.5" y="327.6387">«nested»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="78" x="272" y="341.6074">Dependency</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="244" x2="352" y1="349.4375" y2="349.4375"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="51" x="249" y="363.6479">id: string</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="83" x="249" y="376.4526">version: string</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="56" x="249" y="389.2573">uri: string</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="244" x2="352" y1="395.8516" y2="395.8516"/><!--class KvalApplication.Desc--><rect fill="#E0F99F" filter="url(#f8qxeglxhiavj)" height="79.5469" id="KvalApplication.Desc" style="stroke: #A80036; stroke-width: 1.5;" width="97" x="59.5" y="317.5"/><rect fill="#E0F99F" height="37.9375" style="stroke: #A80036; stroke-width: 1.5;" width="97" x="59.5" y="317.5"/><ellipse cx="79.9" cy="336.4688" fill="#FF7700" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M79.3844,337.0313 Q77.525,336.3281 76.8688,335.5625 Q76.2281,334.7813 76.2281,333.4688 Q76.2281,331.7813 77.3063,330.8125 Q78.3844,329.8438 80.2594,329.8438 Q81.1188,329.8438 81.9625,330.0469 Q82.8219,330.2344 83.6656,330.625 L83.6656,333.0156 Q82.8844,332.4531 82.0563,332.1719 Q81.2438,331.875 80.4469,331.875 Q79.5719,331.875 79.0875,332.2344 Q78.6188,332.5938 78.6188,333.25 Q78.6188,333.7656 78.9625,334.1094 Q79.3063,334.4375 80.4,334.8438 L81.4625,335.25 Q82.9469,335.7969 83.65,336.7031 Q84.3688,337.6094 84.3688,338.9844 Q84.3688,340.8594 83.2594,341.7813 Q82.15,342.7031 79.9,342.7031 Q78.9781,342.7031 78.0563,342.4844 Q77.1344,342.2656 76.275,341.8438 L76.275,339.3125 Q77.2438,340 78.1656,340.3438 Q79.0875,340.6875 79.9781,340.6875 Q80.8844,340.6875 81.3844,340.2813 Q81.8844,339.8594 81.8844,339.125 Q81.8844,338.5625 81.5406,338.1563 Q81.2125,337.7344 80.5875,337.4844 L79.3844,337.0313 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="57" x="93.1" y="333.6387">«nested»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="31" x="106.1" y="347.6074">Desc</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="60.5" x2="155.5" y1="355.4375" y2="355.4375"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="65" x="65.5" y="369.6479">lang: string</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="85" x="65.5" y="382.4526">payload: string</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="60.5" x2="155.5" y1="389.0469" y2="389.0469"/><!--class KvalApplication.Meta--><rect fill="#E0F99F" filter="url(#f8qxeglxhiavj)" height="156.375" id="KvalApplication.Meta" style="stroke: #A80036; stroke-width: 1.5;" width="171" x="22.5" y="69"/><rect fill="#E0F99F" height="37.9375" style="stroke: #A80036; stroke-width: 1.5;" width="171" x="22.5" y="69"/><ellipse cx="77.25" cy="87.9688" fill="#FF7700" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M76.7344,88.5313 Q74.875,87.8281 74.2188,87.0625 Q73.5781,86.2813 73.5781,84.9688 Q73.5781,83.2813 74.6563,82.3125 Q75.7344,81.3438 77.6094,81.3438 Q78.4688,81.3438 79.3125,81.5469 Q80.1719,81.7344 81.0156,82.125 L81.0156,84.5156 Q80.2344,83.9531 79.4063,83.6719 Q78.5938,83.375 77.7969,83.375 Q76.9219,83.375 76.4375,83.7344 Q75.9688,84.0938 75.9688,84.75 Q75.9688,85.2656 76.3125,85.6094 Q76.6563,85.9375 77.75,86.3438 L78.8125,86.75 Q80.2969,87.2969 81,88.2031 Q81.7188,89.1094 81.7188,90.4844 Q81.7188,92.3594 80.6094,93.2813 Q79.5,94.2031 77.25,94.2031 Q76.3281,94.2031 75.4063,93.9844 Q74.4844,93.7656 73.625,93.3438 L73.625,90.8125 Q74.5938,91.5 75.5156,91.8438 Q76.4375,92.1875 77.3281,92.1875 Q78.2344,92.1875 78.7344,91.7813 Q79.2344,91.3594 79.2344,90.625 Q79.2344,90.0625 78.8906,89.6563 Q78.5625,89.2344 77.9375,88.9844 L76.7344,88.5313 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="57" x="95.75" y="85.1387">«nested»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="31" x="108.75" y="99.1074">Meta</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="23.5" x2="192.5" y1="106.9375" y2="106.9375"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="64" x="28.5" y="121.1479">icon: string</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="67" x="28.5" y="133.9526">back: string</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="75" x="28.5" y="146.7573">fanart: string</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="89" x="28.5" y="159.562">platform: string</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="65" x="28.5" y="172.3667">size: qint64</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="154" x="28.5" y="185.1714">summaries: vector&lt;Desc&gt;</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="159" x="28.5" y="197.9761">descriptions: vector&lt;Desc&gt;</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="155" x="28.5" y="210.7808">disclaimers: vector&lt;Desc&gt;</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="23.5" x2="192.5" y1="217.375" y2="217.375"/><!--class KvalApplication.BuiltinClasses.AppClass--><rect fill="#FEFECE" filter="url(#f8qxeglxhiavj)" height="48" id="KvalApplication.BuiltinClasses.AppClass" style="stroke: #A80036; stroke-width: 1.5;" width="89" x="930.5" y="486.5"/><ellipse cx="945.5" cy="502.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M948.4688,508.1406 Q947.8906,508.4375 947.25,508.5781 Q946.6094,508.7344 945.9063,508.7344 Q943.4063,508.7344 942.0781,507.0938 Q940.7656,505.4375 940.7656,502.3125 Q940.7656,499.1875 942.0781,497.5313 Q943.4063,495.875 945.9063,495.875 Q946.6094,495.875 947.25,496.0313 Q947.9063,496.1875 948.4688,496.4844 L948.4688,499.2031 Q947.8438,498.625 947.25,498.3594 Q946.6563,498.0781 946.0313,498.0781 Q944.6875,498.0781 944,499.1563 Q943.3125,500.2188 943.3125,502.3125 Q943.3125,504.4063 944,505.4844 Q944.6875,506.5469 946.0313,506.5469 Q946.6563,506.5469 947.25,506.2813 Q947.8438,506 948.4688,505.4219 L948.4688,508.1406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="57" x="959.5" y="506.6543">AppClass</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="931.5" x2="1018.5" y1="518.5" y2="518.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="931.5" x2="1018.5" y1="526.5" y2="526.5"/><!--class KvalAppElement--><rect fill="#FEFECE" filter="url(#f8qxeglxhiavj)" height="86.4141" id="KvalAppElement" style="stroke: #A80036; stroke-width: 1.5;" width="196" x="1072" y="104"/><ellipse cx="1116.25" cy="120" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1119.2188,125.6406 Q1118.6406,125.9375 1118,126.0781 Q1117.3594,126.2344 1116.6563,126.2344 Q1114.1563,126.2344 1112.8281,124.5938 Q1111.5156,122.9375 1111.5156,119.8125 Q1111.5156,116.6875 1112.8281,115.0313 Q1114.1563,113.375 1116.6563,113.375 Q1117.3594,113.375 1118,113.5313 Q1118.6563,113.6875 1119.2188,113.9844 L1119.2188,116.7031 Q1118.5938,116.125 1118,115.8594 Q1117.4063,115.5781 1116.7813,115.5781 Q1115.4375,115.5781 1114.75,116.6563 Q1114.0625,117.7188 1114.0625,119.8125 Q1114.0625,121.9063 1114.75,122.9844 Q1115.4375,124.0469 1116.7813,124.0469 Q1117.4063,124.0469 1118,123.7813 Q1118.5938,123.5 1119.2188,122.9219 L1119.2188,125.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="99" x="1136.75" y="124.1543">KvalAppElement</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1073" x2="1267" y1="136" y2="136"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1073" x2="1267" y1="144" y2="144"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="184" x="1078" y="158.2104">getAvailableApps(): QVariantMap</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="87" x="1078" y="171.0151">startApp(appid)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="85" x="1078" y="183.8198">stopApp(appid)</text><!--class KvalSystemCore--><rect fill="#FEFECE" filter="url(#f8qxeglxhiavj)" height="48" id="KvalSystemCore" style="stroke: #A80036; stroke-width: 1.5;" width="130" x="1072" y="668.5"/><ellipse cx="1087" cy="684.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1089.9688,690.1406 Q1089.3906,690.4375 1088.75,690.5781 Q1088.1094,690.7344 1087.4063,690.7344 Q1084.9063,690.7344 1083.5781,689.0938 Q1082.2656,687.4375 1082.2656,684.3125 Q1082.2656,681.1875 1083.5781,679.5313 Q1084.9063,677.875 1087.4063,677.875 Q1088.1094,677.875 1088.75,678.0313 Q1089.4063,678.1875 1089.9688,678.4844 L1089.9688,681.2031 Q1089.3438,680.625 1088.75,680.3594 Q1088.1563,680.0781 1087.5313,680.0781 Q1086.1875,680.0781 1085.5,681.1563 Q1084.8125,682.2188 1084.8125,684.3125 Q1084.8125,686.4063 1085.5,687.4844 Q1086.1875,688.5469 1087.5313,688.5469 Q1088.1563,688.5469 1088.75,688.2813 Q1089.3438,688 1089.9688,687.4219 L1089.9688,690.1406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="98" x="1101" y="688.6543">KvalSystemCore</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1073" x2="1201" y1="700.5" y2="700.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1073" x2="1201" y1="708.5" y2="708.5"/><!--reverse link KvalApplication.PyApplication to KvalApplication.ActivityEntry--><path d="M382.1224,223.4125 C394.1777,250.4086 407.4578,280.1476 418.4419,304.7449 " fill="none" id="KvalApplication.PyApplication&lt;-KvalApplication.ActivityEntry" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="379.2106" cy="216.8917" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="382.4726" x2="375.9486" y1="224.1965" y2="209.587"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="371.9059" x2="386.5154" y1="220.1538" y2="213.6297"/><!--reverse link KvalApplication.PyApplication to KvalApplication.Dependency--><path d="M329.5946,224.4868 C322.6766,253.6114 315.0331,285.7906 308.9971,311.2021 " fill="none" id="KvalApplication.PyApplication&lt;-KvalApplication.Dependency" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="331.2849" cy="217.3704" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="329.436" x2="333.1337" y1="225.1539" y2="209.587"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="323.5014" x2="339.0683" y1="215.5216" y2="219.2193"/><!--link KvalApplication.Meta to KvalApplication.PyApplication--><path d="M193.7813,147 C200.4235,147 207.0658,147 213.7081,147 " fill="none" id="KvalApplication.Meta-&gt;KvalApplication.PyApplication" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="220.7214" cy="146.9999" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="212.7214" x2="228.7214" y1="146.9998" y2="147"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="220.7215" x2="220.7213" y1="138.9999" y2="154.9999"/><!--reverse link KvalApplication.Meta to KvalApplication.Desc--><path d="M108,240.365 C108,267.3662 108,295.4242 108,317.3082 " fill="none" id="KvalApplication.Meta&lt;-KvalApplication.Desc" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="108" cy="233.0833" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="108" x2="108" y1="241.0833" y2="225.0833"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="100" x2="116" y1="233.0833" y2="233.0833"/><!--reverse link KvalApplication.LauncherEngine to KvalApplication.ActivityWorker--><path d="M815,433.3546 C815,449.8758 815,466.4371 815,479.956 " fill="none" id="KvalApplication.LauncherEngine&lt;-KvalApplication.ActivityWorker" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="815,420.1724,811,426.1724,815,432.1724,819,426.1724,815,420.1724" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="807.2344" y="468.7367">*</text><!--reverse link KvalApplication.BuiltinClasses.AppClass to KvalApplication.ActivityWorker--><path d="M925.2658,510.5 C915.2814,510.5 905.2969,510.5 895.3125,510.5 " fill="none" id="KvalApplication.BuiltinClasses.AppClass&lt;-KvalApplication.ActivityWorker" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="930.4871,510.5,921.4871,506.5,925.4871,510.5,921.4871,514.5,930.4871,510.5" style="stroke: #A80036; stroke-width: 1.0;"/><!--link KvalApplication.DeploymentEngine to KvalApplication.Manager--><path d="M756.1924,147 C763.2942,147 770.3961,147 777.498,147 " fill="none" id="KvalApplication.DeploymentEngine-&gt;KvalApplication.Manager" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="790.7128,147,784.7128,143,778.7128,147,784.7128,151,790.7128,147" style="stroke: #A80036; stroke-width: 1.0;"/><!--reverse link KvalApplication.Manager to KvalApplication.LauncherEngine--><path d="M867.027,246.877 C859.3547,263.1903 851.6012,279.6763 844.5064,294.7617 " fill="none" id="KvalApplication.Manager&lt;-KvalApplication.LauncherEngine" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="872.5887,235.0513,866.4155,238.7784,867.4815,245.9102,873.6548,242.1832,872.5887,235.0513" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="839.4556" y="283.7249">1</text><!--link KvalApplication.DeploymentEngine to KvalApplication.LauncherEngine--><path d="M684.3025,209.587 C706.9611,235.2302 733.2135,264.9406 756.2194,290.9768 " fill="none" id="KvalApplication.DeploymentEngine-&gt;KvalApplication.LauncherEngine" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="759.5894,294.7907,756.6274,285.3978,756.2786,291.0439,750.6325,290.6951,759.5894,294.7907" style="stroke: #A80036; stroke-width: 1.0;"/><!--link KvalApplication.PyApplication to KvalApplication.DeploymentEngine--><path d="M467.0957,147 C474.3424,147 481.5891,147 488.8358,147 " fill="none" id="KvalApplication.PyApplication-&gt;KvalApplication.DeploymentEngine" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="501.8798,147,495.8798,143,489.8798,147,495.8798,151,501.8798,147" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="474.9495" y="143.5962">*</text><!--link KvalApplication.Manager to KvalAppElement--><path d="M1037.5,147 C1044.581,147 1051.662,147 1058.7429,147 " fill="none" id="KvalApplication.Manager-&gt;KvalAppElement" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1071.9189,147,1065.9189,143,1059.9189,147,1065.9189,151,1071.9189,147" style="stroke: #A80036; stroke-width: 1.0;"/><!--link KvalAppElement to KvalApplication.BuiltinClasses.AppClass--><path d="M1156.1406,190.1388 C1137.279,245.6916 1100.3803,344.1107 1053,420 C1037.731,444.4565 1016.0476,469.0355 999.417,486.3939 " fill="none" id="KvalAppElement-KvalApplication.BuiltinClasses.AppClass" style="stroke: #A80036; stroke-width: 1.0;"/><!--link KvalApplication.CallbackRegister to KvalSystemCore--><path d="M1037.25,692.5 C1048.8096,692.5 1060.3691,692.5 1071.9287,692.5 " fill="none" id="KvalApplication.CallbackRegister-KvalSystemCore" style="stroke: #A80036; stroke-width: 1.0;"/><!--link KvalApplication.BuiltinClasses.AppClass to KvalApplication.CallbackRegister--><path d="M974.2032,534.6682 C973.1226,567.4476 971.1919,626.0116 970.0106,661.8456 " fill="none" id="KvalApplication.BuiltinClasses.AppClass-KvalApplication.CallbackRegister" style="stroke: #A80036; stroke-width: 1.0;"/><!--
@startuml









namespace KvalApplication << namespace >> #DDDDDD {
Class Manager {
    m_launcher: LauncherEngine
    m_deploymentEngine: DeploymentEngine
    getApps()
    refreshApps()
    installApp()
    uninstallApp()
    updateApp()
    addAppToFav()
    launchApp(isDaemon)
    stopApp(isDaemon)
}

class LauncherEngine {
    m_workers: map<worker, appid>
    m_threads: list
    Create()
    syncStart(path, module, attr): T
    asyncStart(isDaemon)
    Stop(isDaemon)
}

class DeploymentEngine {
    m_availableApps: list<PyApplication>
    extractAvailableApps(): list<PyApplication>
    install(appid)
    uninstall(appid)
    update(appid)
    favorite(appid)
}

class CallbackRegister {
    register()
}

class ActivityWorker {
    Start(path, dependencies)
}

namespace BuiltinClasses << namespace >> #7ED1E9 {
}

Class PyApplication {
    m_id: string
    m_version: string
    m_activities: ActivityEntry
    m_meta: Meta
    m_dependencies: vector<Dependency>
    addDep(Dependency)
}
class ActivityEntry << (S, #FF7700) nested >> #E0F99F {
    main: string
    daemon: string
    update: string
    package: string
}
class Dependency << (S, #FF7700) nested >> #E0F99F {
    id: string
    version: string
    uri: string
}
class Desc << (S, #FF7700) nested >> #E0F99F{
    lang: string
    payload: string
}
class Meta << (S, #FF7700) nested >> #E0F99F{
    icon: string
    back: string
    fanart: string
    platform: string
    size: qint64
    summaries: vector<Desc>
    descriptions: vector<Desc>
    disclaimers: vector<Desc>
}

PyApplication  +- - ActivityEntry
PyApplication  +- - Dependency
PyApplication  +-left- Meta
Meta  +- - Desc

LauncherEngine *- - "*" ActivityWorker
ActivityWorker -left-> KvalApplication.BuiltinClasses.AppClass


Manager *-left- DeploymentEngine
Manager *-down- "1" LauncherEngine
DeploymentEngine - -> LauncherEngine
DeploymentEngine *-left- "*" PyApplication

}

Class KvalAppElement {
    getAvailableApps(): QVariantMap
    startApp(appid)
    stopApp(appid)
}

Class KvalSystemCore {
}

KvalAppElement *-left- KvalApplication.Manager
KvalAppElement - - - KvalApplication.BuiltinClasses.AppClass
KvalSystemCore -left- KvalApplication.CallbackRegister
KvalApplication.BuiltinClasses.AppClass - - - KvalApplication.CallbackRegister

@enduml

PlantUML version 1.2019.09(Mon Aug 26 18:19:51 CEST 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.6+10-post-Debian-1deb10u1
Operating System: Linux
OS Version: 4.19.0-6-amd64
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>